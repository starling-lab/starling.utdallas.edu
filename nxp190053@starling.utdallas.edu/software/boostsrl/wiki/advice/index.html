<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Learning with Advice - StARLinG</title>
<meta name="description" content="Guide for knowledge-based probabilistic logic learning (KBPLL) with BoostSRL.">


  <meta name="author" content="Phillip Odom">
  
  <meta property="article:author" content="Phillip Odom">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="StARLinG">
<meta property="og:title" content="Learning with Advice">
<meta property="og:url" content="https://starling.utdallas.edu/software/boostsrl/wiki/advice/">


  <meta property="og:description" content="Guide for knowledge-based probabilistic logic learning (KBPLL) with BoostSRL.">





  <meta name="twitter:site" content="@StARLing_lab">
  <meta name="twitter:title" content="Learning with Advice">
  <meta name="twitter:description" content="Guide for knowledge-based probabilistic logic learning (KBPLL) with BoostSRL.">
  <meta name="twitter:url" content="https://starling.utdallas.edu/software/boostsrl/wiki/advice/">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2023-07-26T10:31:12-05:00">





  

  


<link rel="canonical" href="https://starling.utdallas.edu/software/boostsrl/wiki/advice/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "StARLinG Lab",
      "url": "https://starling.utdallas.edu/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="StARLinG Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <link rel="shortcut icon" href="/assets/images/favicon.ico">

  </head>

  <body class="layout--single wide">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="https://starling.utdallas.edu/"><img style="max-height: 40px;" src="/assets/images/Logo.png"/></a>
        <ul class="visible-links">
          
            
            <li class="masthead__menu-item">
              <a href="https://starling.utdallas.edu/people/" >People</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="https://starling.utdallas.edu/publications/" >Publications</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="https://starling.utdallas.edu/projects/" >Projects</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="https://starling.utdallas.edu/software/" >Software</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="https://starling.utdallas.edu/datasets/" >Datasets</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="https://starling.utdallas.edu/gallery/" >Gallery</a>
            </li>
          
        </ul>
        
        <button class="search__toggle" type="button">
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle Menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">BoostSRL Basics</span>
        

        
        <ul>
          
            <li><a href="/software/boostsrl/wiki/getting-started/">Getting Started</a></li>
          
            <li><a href="/software/boostsrl/wiki/file-structure/">File Structure</a></li>
          
            <li><a href="/software/boostsrl/wiki/basic-parameters/">Basic Parameters</a></li>
          
            <li><a href="/software/boostsrl/wiki/basic-modes/">Basic Modes</a></li>
          
            <li><a href="/software/boostsrl/wiki/advanced-parameters/">Advanced Parameters</a></li>
          
            <li><a href="/software/boostsrl/wiki/advanced-modes/">Advanced Modes</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Advanced BoostSRL</span>
        

        
        <ul>
          
            <li><a href="/software/boostsrl/wiki/rdn-boost/">Default (RDN-Boost)</a></li>
          
            <li><a href="/software/boostsrl/wiki/mln-boost/">MLN-Boost</a></li>
          
            <li><a href="/software/boostsrl/wiki/regression/">Regression</a></li>
          
            <li><a href="/software/boostsrl/wiki/one-class-classification/">One-Class Classification</a></li>
          
            <li><a href="/software/boostsrl/wiki/cost-sensitive-srl/">Cost-Sensitive SRL</a></li>
          
            <li><a href="/software/boostsrl/wiki/advice/" class="active">Learning with Advice</a></li>
          
            <li><a href="/software/boostsrl/wiki/approximate-counting/">Approximate Counting</a></li>
          
            <li><a href="/software/boostsrl/wiki/discretization/">Discretization of Continuous-Valued Attributes</a></li>
          
            <li><a href="/software/boostsrl/wiki/lifted-relational-random-walks/">Lifted Relational Random Walks</a></li>
          
            <li><a href="/software/boostsrl/wiki/grounded-relational-random-walks/">Grounded Relational Random Walks</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Applications</span>
        

        
        <ul>
          
            <li><a href="/software/boostsrl/wiki/natural-language-processing/">Natural Language Processing</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Learning with Advice">
    <meta itemprop="description" content="Guide for knowledge-based probabilistic logic learning (KBPLL) with BoostSRL.">
    <meta itemprop="datePublished" content="2023-07-26T10:31:12-05:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title p-name" itemprop="headline">
            <a href="https://starling.utdallas.edu/software/boostsrl/wiki/advice/" class="u-url" itemprop="url">Learning with Advice
</a>
          </h1>
          


        </header>
      

      <section class="page__content e-content" itemprop="text">
        
          <aside class="sidebar__right ">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On This Page</h4></header>
              <ul class="toc__menu"><li><a href="#overview">Overview</a></li><li><a href="#advice">Advice</a></li><li><a href="#kbpll-parameters">KBPLL Parameters</a></li><li><a href="#download">Download</a></li><li><a href="#references">References</a></li></ul>

            </nav>
          </aside>
        
        <h3 id="overview">Overview</h3>

<p><strong>Knowledge-based Probabilistic Logic Learning (KBPLL)</strong> learns a model using training data and expert advice, extending Relational Functional Gradient Boosting (RFGB).</p>

<p>Knowledge and advice are interchangeable in this context, and both are specified by label preferences. <strong>Label preferences</strong> are a set that are more <em>preferred</em> (and therefore more likely) than another set. A conjunction of literals in logic specifies a set of examples to which the label preferences should apply.</p>

<p>For example:</p>

<ul>
  <li>For the clause:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">Patient(x) &amp;&amp; BloodPressure(x, HIGH) &amp;&amp; Cholesterol(x, HIGH)</code></p>

<ul>
  <li>The preferred label is:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">{Heart Attack}</code></p>

<ul>
  <li>The non-preferred label is:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">{Stroke, Cancer}</code></p>

<p>This advice says that patients with high blood pressure and high cholesterol are more likely to have a heart attack and less likely to have cancer or a stroke.</p>

<p>The key notion behind RFGB is to calculate the current error (gradient) in the model for every example and fit a tree to that error. By adding that tree to the current model, the algorithm is pushed toward correcting its error. In order to incorporate expert knowledge, we introduce an advice gradient that pushes preferred labels toward 1 and non-preferred labels toward 0.</p>

<p><button class="btn btn--primary btn--large" onclick="topOfPage()">Table of Contents</button></p>

<hr />

<h3 id="advice">Advice</h3>

<p>Advice preferences are specified in a single file, and each piece of advice is specified in three lines.</p>

<ol>
  <li>The first line contains the preferred label(s), preferred label(s), preferred label(s)</li>
  <li>The second line contains the non-preferred label(s), non-preferred label(s)</li>
  <li>The final line contains the path to the file that specifies advice clauses. These clauses define the examples where the advice should apply.</li>
</ol>

<p>The advice file could contain multiple pieces of advice, each read in three line chunks.</p>

<p>Example:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>heartattack
stroke,cancer
C:\path\to\advice\file.txt
</code></pre></div></div>

<p>In the binary case, <code class="language-plaintext highlighter-rouge">heartattack</code> and <code class="language-plaintext highlighter-rouge">!heartattack</code> can be used as the preferred/non-preferred labels.</p>

<p>The file defining the clauses must use the following format:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>4.0 target(Arg1,...,ArgN) :- predicate1(...) ^ predicate2(...) ^ ... predicateN(...).
-4.0 target(Arg1,...,ArgN) :- !.
</code></pre></div></div>

<p>The file must define a clause for every possible example.</p>
<ol>
  <li>Clauses lead by a positive value (use 4.0) define examples where the advice will apply.</li>
  <li>Clauses lead by a negative value (use -4.0) define examples where the advice will <em>not</em> apply.</li>
  <li>The cut (!) is used in the last clause to define all possible examples not covered by the previous clause.</li>
</ol>

<p>Advice is compiled into a single value for every example. This is written to the “gradients_target.adv_grad” file in the training directory. It is useful to check this file to ensure that there are non-zero values.</p>

<p><button class="btn btn--primary btn--large" onclick="topOfPage()">Table of Contents</button></p>

<hr />

<h3 id="kbpll-parameters">KBPLL Parameters</h3>

<p>Two key parameters: <code class="language-plaintext highlighter-rouge">-adviceFile</code> and <code class="language-plaintext highlighter-rouge">-adviceWt</code></p>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">-adviceFile</code> should be set as the path to the file that contains the advice. Specifying a value for this parameter should ensure that KBPLL runs correctly.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">-adviceWt</code> controls the trade-off between the gradient with respect to the training data and the gradient with respect to the advice. 0.5 is the default value, but this parameters only needs to be specified if you want to change it.</p>
  </li>
</ol>

<p><button class="btn btn--primary btn--large" onclick="topOfPage()">Table of Contents</button></p>

<hr />

<h3 id="download">Download</h3>

<p>Here is a basic dataset to help with understanding advice and its associated file setup:</p>

<p><img src="https://raw.githubusercontent.com/boost-starai/BoostSRL-Misc/master/Images/ToyAdviceFileStructure.png" style="display: block; margin: auto; padding-top: 0.4em; padding-bottom: 0.4em;" /></p>

<p>Download: <a href="https://github.com/boost-starai/BoostSRL-Misc/blob/master/Datasets/Toy-Advice/Toy-Advice.zip?raw=true">Toy-Advice.zip</a> (27.5 KB)</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">md5sum</code>:
    <p style="word-break: break-all;">7ad05a6cfa3b9cde55a96669cb94ed15</p>
  </li>
  <li><code class="language-plaintext highlighter-rouge">sha256sum</code>:
    <p style="word-break: break-all;">df60f5399a41ff8ef38f136366a55e4886d0af8705bfce55b761710a1f3848c7</p>
  </li>
</ul>

<p>advice.txt:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ha
!ha
adviceFile.txt
</code></pre></div></div>

<p>adviceFile.txt:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-4.0 ha(A) :- chol(A, 4).
-4.0 ha(A) :- chol(A, 3).
4.0 ha(A) :- !.
</code></pre></div></div>

<p>Train with advice using:</p>

<p><code class="language-plaintext highlighter-rouge">java -jar v1-0.jar -l -train train/ -target ha -adviceFile "advice.txt" -trees 3</code></p>

<p>Test with:</p>

<p><code class="language-plaintext highlighter-rouge">java -jar v1-0.jar -i -model train/models/ -test test/ -target ha -trees 3</code></p>

<p><button class="btn btn--primary btn--large" onclick="topOfPage()">Table of Contents</button></p>

<hr />

<h3 id="references">References</h3>

<ol>
  <li>Odom, P.; Khot, T.; Porter, R.; and Natarajan, S. 2015. Knowledge-based Probabilistic Logic Learning. In AAAI.</li>
  <li>Odom, P.; Bangera, V.; Khot, T.; Page, D.; and Natarajan, S. 2015. Extracting Adverse Drug Events from Text using Human Advice. In AIME.</li>
</ol>

<p><button class="btn btn--primary btn--large" onclick="topOfPage()">Table of Contents</button></p>

<script>
function topOfPage() {
    $('html, body').animate({ scrollTop: 0 }, 'fast');
}
</script>


        
      </section>

      <footer class="page__meta">
        
        


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2023-07-26T10:31:12-05:00">July 26, 2023</time></p>

      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?via=StARLing_lab&text=Learning+with+Advice%20https%3A%2F%2Fstarling.utdallas.edu%2Fsoftware%2Fboostsrl%2Fwiki%2Fadvice%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fstarling.utdallas.edu%2Fsoftware%2Fboostsrl%2Fwiki%2Fadvice%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fstarling.utdallas.edu%2Fsoftware%2Fboostsrl%2Fwiki%2Fadvice%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/software/boostsrl/wiki/cost-sensitive-srl/" class="pagination--pager" title="Cost-sensitive Statistical Relational Learning
">Previous</a>
    
    
      <a href="/software/boostsrl/wiki/approximate-counting/" class="pagination--pager" title="Approximate Counting
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://github.com/starling-lab" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github-square" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://twitter.com/starling_lab" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://www.youtube.com/channel/UCtplIvykXStML8nLMak_02A" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-youtube-square" aria-hidden="true"></i> YouTube</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2023 StARLinG Lab. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




  <script>
  window.ga=function(){ga.q.push(arguments)};ga.q=[];ga.l=+new Date;
  ga('create','UA-99296192-3','auto');
  ga('set', 'anonymizeIp', false);
  ga('send','pageview')
</script>
<script src="https://www.google-analytics.com/analytics.js" async></script>









  </body>
</html>
